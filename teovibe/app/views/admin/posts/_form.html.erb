<%= form_with(model: [:admin, post], class: "space-y-4") do |f| %>
  <% if post.errors.any? %>
    <div class="bg-red-50 border border-red-200 rounded-card p-4">
      <ul class="list-disc pl-5 text-sm text-red-600">
        <% post.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <label class="block text-sm font-bold mb-1">제목</label>
    <%= f.text_field :title, class: "w-full px-4 py-3 rounded-2xl border border-gray-300 focus:outline-none" %>
  </div>
  <div>
    <label class="block text-sm font-bold mb-1">카테고리</label>
    <%= f.select :category, Post.categories.keys.map { |k| [Post.new(category: k).category_name, k] },
      {}, class: "w-full px-4 py-3 rounded-2xl border border-gray-300 focus:outline-none" %>
  </div>
  <div>
    <label class="block text-sm font-bold mb-1">상태</label>
    <%= f.select :status, Post.statuses.keys, {}, class: "w-full px-4 py-3 rounded-2xl border border-gray-300 focus:outline-none" %>
  </div>
  <div class="flex items-center gap-2">
    <%= f.check_box :pinned, class: "rounded" %>
    <label class="text-sm font-bold">고정글</label>
  </div>
  <div>
    <label class="block text-sm font-bold mb-1">본문</label>
    <%= f.rich_text_area :body %>
  </div>
  <div>
    <label class="block text-sm font-bold mb-1">SEO 제목</label>
    <%= f.text_field :seo_title, class: "w-full px-4 py-3 rounded-2xl border border-gray-300 focus:outline-none" %>
  </div>
  <div>
    <label class="block text-sm font-bold mb-1">SEO 설명</label>
    <%= f.text_area :seo_description, rows: 2, class: "w-full px-4 py-3 rounded-2xl border border-gray-300 focus:outline-none resize-none" %>
  </div>
  <div class="flex gap-3">
    <%= link_to "취소", admin_posts_path, class: "border border-gray-300 rounded-pill px-6 py-3 text-sm font-bold" %>
    <%= f.submit post.persisted? ? "수정" : "작성", class: "bg-tv-gold text-tv-black rounded-pill px-6 py-3 text-sm font-bold cursor-pointer" %>
  </div>
<% end %>
